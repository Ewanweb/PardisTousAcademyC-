### LMS API Tests - Frontend Requirements

@baseUrl = https://localhost:7001
@token = Bearer YOUR_JWT_TOKEN_HERE

### 1. Course Students Management

# Get Course Students
GET {{baseUrl}}/api/courses/{{courseId}}/students
Authorization: {{token}}

### 2. Course Financial Summary

# Get Course Financial Summary
GET {{baseUrl}}/api/courses/{{courseId}}/financial-summary
Authorization: {{token}}

### 3. Session Management (Attendance System)

# Create Session
POST {{baseUrl}}/api/admin/Attendance/sessions
Authorization: {{token}}
Content-Type: application/json

{
  "courseId": "{{courseId}}",
  "title": "جلسه اول - مقدمات React",
  "sessionDate": "2024-12-20T10:00:00Z",
  "duration": "01:30:00",
  "sessionNumber": 1
}

### Update Session
PUT {{baseUrl}}/api/admin/Attendance/sessions/{{sessionId}}
Authorization: {{token}}
Content-Type: application/json

{
  "title": "جلسه اول - مقدمات React (بروزرسانی شده)",
  "sessionDate": "2024-12-20T10:30:00Z",
  "duration": "02:00:00"
}

### Delete Session
DELETE {{baseUrl}}/api/admin/Attendance/sessions/{{sessionId}}
Authorization: {{token}}

### Get Course Sessions
GET {{baseUrl}}/api/admin/Attendance/sessions/course/{{courseId}}
Authorization: {{token}}

### 4. Attendance Recording

# Record Attendance
POST {{baseUrl}}/api/admin/Attendance/session/{{sessionId}}
Authorization: {{token}}
Content-Type: application/json

{
  "studentId": "{{studentId}}",
  "status": "Present",
  "checkInTime": "2024-12-20T10:05:00Z",
  "note": "حضور به موقع"
}

### Update Attendance
PUT {{baseUrl}}/api/admin/Attendance/{{attendanceId}}
Authorization: {{token}}
Content-Type: application/json

{
  "status": "Late",
  "checkInTime": "2024-12-20T10:20:00Z",
  "note": "تأخیر 20 دقیقه‌ای"
}

### Get Session Attendances
GET {{baseUrl}}/api/admin/Attendance/session/{{sessionId}}
Authorization: {{token}}

### Get Student Attendance Report
GET {{baseUrl}}/api/admin/Attendance/student/{{studentId}}/course/{{courseId}}
Authorization: {{token}}

### 5. Payment & Financial System

# Get Student Enrollments
GET {{baseUrl}}/api/admin/Payments/enrollments/student/{{studentId}}
Authorization: {{token}}

### Get Overdue Payments
GET {{baseUrl}}/api/admin/Payments/overdue
Authorization: {{token}}

### Get Installment Details
GET {{baseUrl}}/api/admin/Payments/installment/{{installmentId}}
Authorization: {{token}}

### Record Admin Payment
POST {{baseUrl}}/api/admin/Payments/enrollment/{{enrollmentId}}
Authorization: {{token}}
Content-Type: application/json

{
  "amount": 1000000,
  "paymentMethod": "Cash",
  "description": "پرداخت نقدی توسط ادمین"
}

### 6. Enrollment Installments

# Get Enrollment Installments
GET {{baseUrl}}/api/enrollments/{{enrollmentId}}/installments
Authorization: {{token}}

### 7. Payment Processing

# Process Installment Payment
POST {{baseUrl}}/api/payments/installment/{{installmentId}}
Authorization: {{token}}
Content-Type: application/json

{
  "amount": 1250000,
  "paymentMethod": "Online",
  "description": "پرداخت قسط اول"
}

### Verify Payment
POST {{baseUrl}}/api/payments/verify
Content-Type: application/json

{
  "paymentId": "{{paymentId}}",
  "transactionId": "TXN123456789",
  "status": "Success"
}

### Get Payment Status
GET {{baseUrl}}/api/payments/{{paymentId}}/status
Authorization: {{token}}

### 8. Student Financial Profile

# Get Student Profile
GET {{baseUrl}}/api/admin/Students/{{studentId}}/profile
Authorization: {{token}}

### Get Student Financial Summary
GET {{baseUrl}}/api/admin/Students/{{studentId}}/financial-summary
Authorization: {{token}}

### Get Student Attendance Summary
GET {{baseUrl}}/api/admin/Students/{{studentId}}/attendance-summary
Authorization: {{token}}

### 9. Comments System

# Create Comment (Student)
POST {{baseUrl}}/api/comments
Authorization: {{token}}
Content-Type: application/json

{
  "courseId": "{{courseId}}",
  "content": "این دوره بسیار مفید و کاربردی بود. مطالب به صورت ساده و قابل فهم ارائه شد.",
  "rating": 5
}

### Get Approved Course Comments (Public)
GET {{baseUrl}}/api/comments/course/{{courseId}}?page=1&pageSize=10

### Update Comment (Student - Only Pending Comments)
PUT {{baseUrl}}/api/comments/{{commentId}}
Authorization: {{token}}
Content-Type: application/json

{
  "content": "این دوره بسیار عالی بود و کاملاً توصیه می‌کنم. مدرس بسیار مسلط و صبور بود.",
  "rating": 5
}

### Get Course Comments (Admin)
GET {{baseUrl}}/api/admin/comments/course/{{courseId}}?status=Pending&page=1&pageSize=20
Authorization: {{token}}

### Get Pending Comments (Admin)
GET {{baseUrl}}/api/admin/comments/pending?page=1&pageSize=20
Authorization: {{token}}

### Review Comment (Admin - Approve)
PUT {{baseUrl}}/api/admin/comments/{{commentId}}/review
Authorization: {{token}}
Content-Type: application/json

{
  "status": "Approved",
  "note": "کامنت مناسب و سازنده است"
}

### Review Comment (Admin - Reject)
PUT {{baseUrl}}/api/admin/comments/{{commentId}}/review
Authorization: {{token}}
Content-Type: application/json

{
  "status": "Rejected",
  "note": "محتوای کامنت مناسب نیست"
}

### Get Course Comment Stats (Admin)
GET {{baseUrl}}/api/admin/comments/course/{{courseId}}/stats
Authorization: {{token}}

### Variables for testing
# Replace these with actual IDs from your database
@courseId = 00000000-0000-0000-0000-000000000000
@studentId = user-id-here
@sessionId = 00000000-0000-0000-0000-000000000000
@attendanceId = 00000000-0000-0000-0000-000000000000
@enrollmentId = 00000000-0000-0000-0000-000000000000
@installmentId = 00000000-0000-0000-0000-000000000000
@paymentId = 00000000-0000-0000-0000-000000000000
@commentId = 00000000-0000-0000-0000-000000000000